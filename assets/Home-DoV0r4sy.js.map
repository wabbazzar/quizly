{"version":3,"file":"Home-DoV0r4sy.js","sources":["../../src/components/EnhancedDeckCard.tsx","../../src/components/deck/CompactDeckCard.tsx","../../src/components/deck/CompactDeckGrid.tsx","../../src/components/deck/FamilySection.tsx","../../src/components/modals/DeckVisibilityModal.tsx","../../src/components/search/SearchResultCard.tsx","../../src/components/search/SearchResults.tsx","../../src/components/icons/DeckManagementIcons.tsx","../../src/pages/Home.tsx","../../src/hooks/useIsMobile.ts"],"sourcesContent":["import { FC, memo, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Deck } from '@/types';\nimport { useNotificationStore } from '@/store/notificationStore';\nimport { hasTranscriptsForDeck } from '@/services/transcriptService';\nimport {\n  FlashcardsIcon,\n  LearnIcon,\n  MatchIcon,\n  ReadIcon,\n  CardsIcon,\n  LevelsIcon,\n  ClockIcon,\n} from '@/components/icons/ModeIcons';\nimport styles from './EnhancedDeckCard.module.css';\n\ninterface ModeConfig {\n  id: 'flashcards' | 'learn' | 'match' | 'read';\n  label: string;\n  icon: FC<{ className?: string }>;\n  color: string;\n  description: string;\n  route: string;\n}\n\ninterface DeckProgress {\n  overall: number;\n  byMode: Record<string, number>;\n  lastStudied?: Date;\n  totalCardsStudied: number;\n  streakDays: number;\n  masteredCards: number;\n  totalCards: number;\n}\n\ninterface EnhancedDeckCardProps {\n  deck: Deck;\n  progress?: DeckProgress;\n  onModeSelect?: (deckId: string, mode: string) => void;\n}\n\nconst formatLastStudied = (date?: Date): string => {\n  if (!date) return 'Never';\n\n  const now = new Date();\n  const diff = now.getTime() - date.getTime();\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n  if (days === 0) return 'Today';\n  if (days === 1) return 'Yesterday';\n  if (days < 7) return `${days} days ago`;\n  if (days < 30) return `${Math.floor(days / 7)} weeks ago`;\n  return `${Math.floor(days / 30)} months ago`;\n};\n\n// Memoized SVG progress ring to avoid recalculations\nconst CircularProgress: FC<{ value: number }> = memo(({ value }) => {\n  const radius = 16;\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (value / 100) * circumference;\n\n  return (\n    <svg viewBox=\"0 0 40 40\" className={styles.progressSvg}>\n      <circle\n        cx=\"20\"\n        cy=\"20\"\n        r={radius}\n        className={styles.progressBackground}\n        strokeWidth=\"2.5\"\n        fill=\"none\"\n      />\n      <circle\n        cx=\"20\"\n        cy=\"20\"\n        r={radius}\n        className={styles.progressFill}\n        strokeWidth=\"2.5\"\n        fill=\"none\"\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        strokeLinecap=\"round\"\n      />\n      <text x=\"20\" y=\"20\" className={styles.progressText} textAnchor=\"middle\" dy=\"0.3em\">\n        {Math.round(value)}%\n      </text>\n    </svg>\n  );\n});\nCircularProgress.displayName = 'CircularProgress';\n\nconst DifficultyBadge: FC<{ level?: string }> = ({ level }) => {\n  if (!level) return null;\n\n  return (\n    <span className={`${styles.difficultyBadge} ${styles[level.replace('_', '-')]}`}>\n      {level.replace('_', ' ')}\n    </span>\n  );\n};\n\nexport const EnhancedDeckCard: FC<EnhancedDeckCardProps> = memo(\n  ({\n    deck,\n    progress = {\n      overall: 0,\n      byMode: {},\n      totalCardsStudied: 0,\n      streakDays: 0,\n      masteredCards: 0,\n      totalCards: deck.content.length,\n    },\n    onModeSelect,\n  }) => {\n    const [hasTranscripts, setHasTranscripts] = useState(false);\n    const navigate = useNavigate();\n    const { showNotification } = useNotificationStore();\n    const { metadata } = deck;\n\n    // Check for transcripts availability\n    useEffect(() => {\n      hasTranscriptsForDeck(deck.id).then(setHasTranscripts);\n    }, [deck.id]);\n\n    const modes: ModeConfig[] = [\n      {\n        id: 'flashcards',\n        label: 'Flashcards',\n        icon: FlashcardsIcon,\n        color: 'primary',\n        description: 'Classic flip cards',\n        route: `/flashcards/${deck.id}`,\n      },\n      {\n        id: 'learn',\n        label: 'Learn',\n        icon: LearnIcon,\n        color: 'secondary',\n        description: 'Interactive questions',\n        route: `/learn/${deck.id}`,\n      },\n      {\n        id: 'match',\n        label: 'Match',\n        icon: MatchIcon,\n        color: 'purple',\n        description: 'Memory game',\n        route: `/match/${deck.id}`,\n      },\n      {\n        id: 'read',\n        label: 'Read',\n        icon: ReadIcon,\n        color: 'orange',\n        description: 'Structured reading practice',\n        route: `/read/${deck.id}`,\n      },\n    ];\n\n    const handleModeClick = (e: React.MouseEvent, mode: ModeConfig) => {\n      e.stopPropagation();\n\n      // Check if Read mode is available for this deck\n      if (mode.id === 'read') {\n        const hasReadingContent = deck.reading && Object.keys(deck.reading.dialogues).length > 0;\n        if (!hasReadingContent && !hasTranscripts) {\n          showNotification({\n            message: 'No reading content available for this deck',\n            type: 'info',\n            duration: 3000,\n          });\n          return;\n        }\n      }\n\n      onModeSelect?.(deck.id, mode.id);\n      navigate(mode.route);\n    };\n\n    const handleCardClick = () => {\n      navigate(`/deck/${deck.id}`);\n    };\n\n    return (\n      <article\n        className={styles.enhancedDeckCard}\n        onClick={handleCardClick}\n      >\n        {/* Progress Ring - Shows mastery percentage of entire deck */}\n        {progress.overall > 0 && (\n          <div className={styles.progressRing}>\n            <CircularProgress value={progress.overall} />\n          </div>\n        )}\n\n        {/* Deck Info */}\n        <header className={styles.cardHeader}>\n          <h3 className={styles.deckName}>{metadata.deck_name}</h3>\n          <DifficultyBadge level={metadata.difficulty} />\n        </header>\n\n        {metadata.deck_subtitle && <p className={styles.subtitle}>{metadata.deck_subtitle}</p>}\n\n        {metadata.description && <p className={styles.description}>{metadata.description}</p>}\n\n        <div className={styles.stats}>\n          <div className={styles.statItem}>\n            <CardsIcon className={styles.statIcon} size={16} />\n            <span className={styles.statValue}>\n              {progress.masteredCards > 0\n                ? `${progress.masteredCards}/${metadata.card_count || deck.content.length}`\n                : metadata.card_count || deck.content.length}\n            </span>\n            <span className={styles.statLabel}>\n              {progress.masteredCards > 0 ? 'mastered' : 'cards'}\n            </span>\n          </div>\n\n          {metadata.available_levels && metadata.available_levels.length > 0 && (\n            <div className={styles.statItem}>\n              <LevelsIcon className={styles.statIcon} size={16} />\n              <span className={styles.statValue}>{metadata.available_levels.length}</span>\n              <span className={styles.statLabel}>levels</span>\n            </div>\n          )}\n\n          {(hasTranscripts || (deck.reading && Object.keys(deck.reading.dialogues).length > 0)) && (\n            <div className={styles.statItem}>\n              <ReadIcon className={styles.statIcon} size={16} />\n              <span className={styles.statLabel}>reading</span>\n            </div>\n          )}\n\n          <div className={styles.statItem}>\n            <ClockIcon className={styles.statIcon} size={16} />\n            <span className={styles.statValue}>{formatLastStudied(progress.lastStudied)}</span>\n          </div>\n        </div>\n\n        {/* Tags */}\n        {metadata.tags && metadata.tags.length > 0 && (\n          <div className={styles.tags}>\n            {metadata.tags.slice(0, 3).map(tag => (\n              <span key={tag} className={styles.tag}>\n                {tag}\n              </span>\n            ))}\n            {metadata.tags.length > 3 && (\n              <span className={styles.tag}>+{metadata.tags.length - 3}</span>\n            )}\n          </div>\n        )}\n\n        {/* Mode Selection Strip */}\n        <div className={styles.modeStrip}>\n          {modes.map(mode => (\n            <button\n              key={mode.id}\n              className={`${styles.modeButton} ${styles[mode.id]}`}\n              onClick={e => handleModeClick(e, mode)}\n              aria-label={`Study ${metadata.deck_name} with ${mode.label} mode`}\n              title={mode.description}\n            >\n              <mode.icon className={styles.modeIcon} />\n              <span className={styles.modeLabel}>{mode.label}</span>\n            </button>\n          ))}\n        </div>\n      </article>\n    );\n  }\n);\n\nEnhancedDeckCard.displayName = 'EnhancedDeckCard';\n\nexport default EnhancedDeckCard;\n","import { FC, memo, useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Deck } from '@/types';\nimport { ReadIcon } from '@/components/icons/ModeIcons';\nimport { hasTranscriptsForDeck } from '@/services/transcriptService';\nimport styles from './CompactDeckCard.module.css';\n\ninterface CompactDeckCardProps {\n  deck: Deck;\n  onSelect: (deckId: string) => void;\n}\n\nexport const CompactDeckCard: FC<CompactDeckCardProps> = memo(({\n  deck,\n  onSelect,\n}) => {\n  const [hasTranscripts, setHasTranscripts] = useState(false);\n  const cardCount = deck.metadata.card_count;\n\n  const displayTitle = deck.metadata.abbreviated_title || deck.metadata.deck_name;\n  const subtitle = deck.metadata.deck_subtitle;\n\n  // Check for reading content availability\n  const hasReadingContent = hasTranscripts ||\n    (deck.reading && Object.keys(deck.reading.dialogues).length > 0);\n\n  useEffect(() => {\n    hasTranscriptsForDeck(deck.id).then(setHasTranscripts);\n  }, [deck.id]);\n\n  const handleClick = () => {\n    onSelect(deck.id);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      onSelect(deck.id);\n    }\n  };\n\n  return (\n    <motion.div\n      className={styles.card}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"button\"\n      aria-label={`${deck.metadata.deck_name}. ${cardCount} cards.`}\n      whileTap={{ scale: 0.98 }}\n    >\n      <div className={styles.title}>{displayTitle}</div>\n\n      <div className={styles.subtitle}>{subtitle}</div>\n\n      {hasReadingContent && (\n        <div className={styles.readingIndicator}>\n          <ReadIcon className={styles.readingIcon} size={14} />\n          <span>Reading</span>\n        </div>\n      )}\n\n      <div className={styles.stats}>\n        <span>{cardCount} cards</span>\n      </div>\n    </motion.div>\n  );\n});\n\nCompactDeckCard.displayName = 'CompactDeckCard';\n","import { FC, memo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Deck } from '@/types';\nimport { CompactDeckCard } from './CompactDeckCard';\nimport styles from './CompactDeckGrid.module.css';\n\ninterface CompactDeckGridProps {\n  decks: Deck[];\n  onSelectDeck: (deckId: string) => void;\n}\n\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: {\n      staggerChildren: 0.05,\n    },\n  },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: 10 },\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: {\n      duration: 0.2,\n    },\n  },\n};\n\nexport const CompactDeckGrid: FC<CompactDeckGridProps> = memo(({\n  decks,\n  onSelectDeck,\n}) => {\n  if (decks.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No decks available</p>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      className={styles.grid}\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n    >\n      <AnimatePresence mode=\"popLayout\">\n        {decks.map((deck) => (\n          <motion.div\n            key={deck.id}\n            variants={itemVariants}\n            layout\n          >\n            <CompactDeckCard\n              deck={deck}\n              onSelect={onSelectDeck}\n            />\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </motion.div>\n  );\n});\n\nCompactDeckGrid.displayName = 'CompactDeckGrid';\n","import { FC, memo, ReactNode } from 'react';\nimport { DeckFamily } from '@/types';\nimport styles from './FamilySection.module.css';\n\ninterface FamilySectionProps {\n  family: DeckFamily;\n  deckCount: number;\n  children: ReactNode;\n}\n\nexport const FamilySection: FC<FamilySectionProps> = memo(({\n  family,\n  deckCount,\n  children,\n}) => (\n  <section className={styles.section}>\n    <div className={styles.header} style={{ borderLeftColor: family.color }}>\n      <h3 className={styles.name}>{family.name}</h3>\n      <span className={styles.count}>{deckCount} decks</span>\n    </div>\n    {children}\n  </section>\n));\n\nFamilySection.displayName = 'FamilySection';\n","import { FC, memo, useMemo, useCallback } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Deck, DeckFamily } from '@/types';\nimport { useDeckVisibilityStore } from '@/store/deckVisibilityStore';\nimport styles from './DeckVisibilityModal.module.css';\n\ninterface DeckVisibilityModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  decks: Deck[];\n}\n\ninterface FamilyGroup {\n  family: DeckFamily | null;\n  decks: Deck[];\n}\n\nconst OTHER_FAMILY: DeckFamily = {\n  id: '__other__',\n  name: 'Other',\n  description: 'Uncategorized decks',\n  color: '#6b7280',\n  sortOrder: 9999,\n};\n\nconst ToggleSwitch: FC<{\n  checked: boolean;\n  onChange: () => void;\n  label: string;\n}> = memo(({ checked, onChange, label }) => (\n  <label className={styles.toggle}>\n    <input\n      type=\"checkbox\"\n      className={styles.toggleInput}\n      checked={checked}\n      onChange={onChange}\n      aria-label={label}\n    />\n    <span className={styles.toggleSlider} />\n  </label>\n));\n\nToggleSwitch.displayName = 'ToggleSwitch';\n\nexport const DeckVisibilityModal: FC<DeckVisibilityModalProps> = memo(({\n  isOpen,\n  onClose,\n  decks,\n}) => {\n  const {\n    hiddenDeckIds,\n    families,\n    toggleDeckVisibility,\n    hideAllInFamily,\n    showAllInFamily,\n  } = useDeckVisibilityStore();\n\n  const familyGroups = useMemo((): FamilyGroup[] => {\n    const groupMap = new Map<string, Deck[]>();\n\n    decks.forEach(deck => {\n      const familyId = deck.metadata.family_id || '__other__';\n      const existing = groupMap.get(familyId) || [];\n      existing.push(deck);\n      groupMap.set(familyId, existing);\n    });\n\n    const groups: FamilyGroup[] = [];\n\n    // Add families in sort order\n    families.forEach(family => {\n      const familyDecks = groupMap.get(family.id);\n      if (familyDecks && familyDecks.length > 0) {\n        groups.push({ family, decks: familyDecks });\n        groupMap.delete(family.id);\n      }\n    });\n\n    // Add \"Other\" group for decks without a known family\n    const otherDecks = groupMap.get('__other__');\n    if (otherDecks && otherDecks.length > 0) {\n      groups.push({ family: OTHER_FAMILY, decks: otherDecks });\n    }\n\n    return groups;\n  }, [decks, families]);\n\n  const handleToggleAll = useCallback(\n    (familyId: string, familyDeckIds: string[], allVisible: boolean) => {\n      if (allVisible) {\n        hideAllInFamily(familyId, familyDeckIds);\n      } else {\n        showAllInFamily(familyId, familyDeckIds);\n      }\n    },\n    [hideAllInFamily, showAllInFamily]\n  );\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Manage Decks\" size=\"large\">\n      {familyGroups.map(group => {\n        const family = group.family || OTHER_FAMILY;\n        const familyDeckIds = group.decks.map(d => d.id);\n        const visibleCount = group.decks.filter(d => !hiddenDeckIds.includes(d.id)).length;\n        const allVisible = visibleCount === group.decks.length;\n\n        return (\n          <div key={family.id} className={styles.familySection}>\n            <div\n              className={styles.familyHeader}\n              style={{ borderLeftColor: family.color }}\n            >\n              <div className={styles.familyInfo}>\n                <h3 className={styles.familyName}>{family.name}</h3>\n                <span className={styles.familyCount}>\n                  {visibleCount}/{group.decks.length} visible\n                </span>\n              </div>\n              <button\n                className={styles.toggleAll}\n                onClick={() => handleToggleAll(family.id, familyDeckIds, allVisible)}\n              >\n                {allVisible ? 'Hide all' : 'Show all'}\n              </button>\n            </div>\n\n            <ul className={styles.deckList}>\n              {group.decks.map(deck => {\n                const isVisible = !hiddenDeckIds.includes(deck.id);\n                return (\n                  <li key={deck.id} className={styles.deckRow}>\n                    <div className={styles.deckInfo}>\n                      <span className={styles.deckTitle}>\n                        {deck.metadata.abbreviated_title || deck.metadata.deck_name}\n                      </span>\n                      {deck.metadata.deck_subtitle && (\n                        <span className={styles.deckSubtitle}>\n                          {deck.metadata.deck_subtitle}\n                        </span>\n                      )}\n                    </div>\n                    <ToggleSwitch\n                      checked={isVisible}\n                      onChange={() => toggleDeckVisibility(deck.id)}\n                      label={`Toggle visibility for ${deck.metadata.deck_name}`}\n                    />\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        );\n      })}\n    </Modal>\n  );\n});\n\nDeckVisibilityModal.displayName = 'DeckVisibilityModal';\n","import { FC, memo, KeyboardEvent } from 'react';\nimport { Card } from '@/types';\nimport styles from './SearchResultCard.module.css';\n\nconst SIDE_KEYS = ['side_a', 'side_b', 'side_c', 'side_d', 'side_e', 'side_f'] as const;\nconst DEFAULT_LABELS = ['Side A', 'Side B', 'Side C', 'Side D', 'Side E', 'Side F'];\n\ninterface SearchResultCardProps {\n  card: Card;\n  deckId: string;\n  deckName: string;\n  sideLabels: Record<string, string | undefined> | undefined;\n  availableSides: number;\n  onNavigateToDeck: (deckId: string) => void;\n}\n\nexport const SearchResultCard: FC<SearchResultCardProps> = memo(\n  ({ card, deckId, deckName, sideLabels, availableSides, onNavigateToDeck }) => {\n    const handleClick = () => onNavigateToDeck(deckId);\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        onNavigateToDeck(deckId);\n      }\n    };\n\n    return (\n      <li\n        className={styles.card}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        role=\"button\"\n        aria-label={`${card.name} from ${deckName}`}\n      >\n        <span className={styles.deckBadge}>{deckName}</span>\n        <div className={styles.sides}>\n          {SIDE_KEYS.slice(0, availableSides).map((key, i) => {\n            const value = card[key];\n            if (!value) return null;\n            const label = sideLabels?.[key] || DEFAULT_LABELS[i];\n            return (\n              <div key={key} className={styles.sideRow}>\n                <span className={styles.sideLabel}>{label}</span>\n                <span className={styles.sideValue}>{value}</span>\n              </div>\n            );\n          })}\n        </div>\n      </li>\n    );\n  }\n);\n\nSearchResultCard.displayName = 'SearchResultCard';\n","import { FC } from 'react';\nimport { Card, Deck } from '@/types';\nimport { SearchResultCard } from './SearchResultCard';\nimport styles from './SearchResults.module.css';\n\nexport interface CardSearchResult {\n  card: Card;\n  deck: Deck;\n}\n\ninterface SearchResultsProps {\n  results: CardSearchResult[];\n  query: string;\n  onNavigateToDeck: (deckId: string) => void;\n}\n\nexport const SearchResults: FC<SearchResultsProps> = ({ results, query, onNavigateToDeck }) => {\n  if (results.length === 0) {\n    return (\n      <div className={styles.emptyState}>\n        <p className={styles.emptyText}>\n          No cards match \"<span className={styles.emptyQuery}>{query}</span>\"\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <p className={styles.resultCount}>\n        {results.length} card{results.length !== 1 ? 's' : ''} found\n      </p>\n      <ul className={styles.list}>\n        {results.map(({ card, deck }) => (\n          <SearchResultCard\n            key={`${deck.id}-${card.idx}`}\n            card={card}\n            deckId={deck.id}\n            deckName={deck.metadata.abbreviated_title || deck.metadata.deck_name}\n            sideLabels={deck.metadata.side_labels}\n            availableSides={deck.metadata.available_sides}\n            onNavigateToDeck={onNavigateToDeck}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { FC } from 'react';\n\ninterface IconProps {\n  className?: string;\n  size?: number;\n}\n\nexport const SlidersIcon: FC<IconProps> = ({ className, size = 24 }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n    aria-hidden=\"true\"\n  >\n    <line x1=\"4\" y1=\"8\" x2=\"20\" y2=\"8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n    <line x1=\"4\" y1=\"16\" x2=\"20\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n    <circle cx=\"8\" cy=\"8\" r=\"2\" fill=\"currentColor\" />\n    <circle cx=\"16\" cy=\"16\" r=\"2\" fill=\"currentColor\" />\n  </svg>\n);\n\nexport const EyeIcon: FC<IconProps> = ({ className, size = 24 }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n    aria-hidden=\"true\"\n  >\n    <path\n      d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\" />\n  </svg>\n);\n\nexport const EyeOffIcon: FC<IconProps> = ({ className, size = 24 }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n    aria-hidden=\"true\"\n  >\n    <path\n      d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n  </svg>\n);\n","import { FC, useEffect, useCallback, useRef, useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useDeckStore } from '@/store/deckStore';\nimport { useProgressStore } from '@/store/progressStore';\nimport { useDeckVisibilityStore } from '@/store/deckVisibilityStore';\nimport EnhancedDeckCard from '@/components/EnhancedDeckCard';\nimport { CompactDeckGrid } from '@/components/deck/CompactDeckGrid';\nimport { FamilySection } from '@/components/deck/FamilySection';\nimport { DeckVisibilityModal } from '@/components/modals/DeckVisibilityModal';\nimport { SearchResults, CardSearchResult } from '@/components/search/SearchResults';\nimport { SearchIcon, CloseIcon } from '@/components/icons/NavigationIcons';\nimport { SlidersIcon } from '@/components/icons/DeckManagementIcons';\nimport { Input } from '@/components/ui/Input';\nimport { useIsMobile } from '@/hooks/useIsMobile';\nimport { Deck, DeckFamily, Card } from '@/types';\nimport styles from './Home.module.css';\n\nconst OTHER_FAMILY: DeckFamily = {\n  id: '__other__',\n  name: 'Other',\n  description: 'Uncategorized decks',\n  color: '#6b7280',\n  sortOrder: 9999,\n};\n\ninterface FamilyGroup {\n  family: DeckFamily;\n  decks: Deck[];\n}\n\nconst Home: FC = () => {\n  const navigate = useNavigate();\n  const { decks, isLoading, error, loadDecks, selectDeck } = useDeckStore();\n  const { getDeckProgress } = useProgressStore();\n  const {\n    hiddenDeckIds,\n    families,\n    loadFamilies,\n  } = useDeckVisibilityStore();\n  const headerRef = useRef<HTMLElement | null>(null);\n  const isMobile = useIsMobile();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    const node = headerRef.current;\n    if (!node) return;\n    const img = node.querySelector('img.' + styles.mascot) as HTMLImageElement | null;\n    if (!img) return;\n\n    const updateGradientStart = () => {\n      try {\n        const rect = img.getBoundingClientRect();\n        const headerRect = node.getBoundingClientRect();\n        const start = Math.max(0, rect.right - headerRect.left + 8);\n        node.style.setProperty('--grad-start', `${Math.round(start)}px`);\n        node.style.setProperty('--left-color', '#5b82b0');\n        node.style.setProperty(\n          '--right-color',\n          getComputedStyle(document.documentElement).getPropertyValue('--primary-main') || '#5b82b0'\n        );\n      } catch {}\n    };\n\n    updateGradientStart();\n    const onResize = () => updateGradientStart();\n    window.addEventListener('resize', onResize);\n\n    // Defer canvas operations to avoid blocking initial render\n    const setHeaderStartFromImage = () => {\n      // Use requestIdleCallback if available, otherwise setTimeout\n      const deferredTask = () => {\n        try {\n          const canvas = document.createElement('canvas');\n          canvas.width = 1;\n          canvas.height = 1;\n          const ctx = canvas.getContext('2d');\n          if (!ctx) return;\n          ctx.drawImage(img, 0, 0, 1, 1);\n          const data = ctx.getImageData(0, 0, 1, 1).data;\n          const toHex = (v: number) => v.toString(16).padStart(2, '0');\n          const hex = `#${toHex(data[0])}${toHex(data[1])}${toHex(data[2])}`;\n          node.style.setProperty('--header-start', hex);\n          updateGradientStart();\n        } catch {}\n      };\n\n      if ('requestIdleCallback' in window) {\n        (window as Window & { requestIdleCallback: (cb: () => void) => number }).requestIdleCallback(deferredTask);\n      } else {\n        setTimeout(deferredTask, 0);\n      }\n    };\n\n    if (img.complete) {\n      setHeaderStartFromImage();\n    } else {\n      img.addEventListener('load', setHeaderStartFromImage, { once: true });\n    }\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    loadDecks();\n    loadFamilies();\n  }, [loadDecks, loadFamilies]);\n\n  const handleModeSelect = useCallback(\n    (deckId: string, _mode: string) => {\n      selectDeck(deckId);\n      // Mode navigation is handled by EnhancedDeckCard\n    },\n    [selectDeck]\n  );\n\n  // Mobile: Handle compact card tap - navigate directly to deck page\n  const handleCompactDeckSelect = useCallback(\n    (deckId: string) => {\n      selectDeck(deckId);\n      navigate(`/deck/${deckId}`);\n    },\n    [selectDeck, navigate]\n  );\n\n  // Filter hidden decks and group by family\n  const visibleDecks = useMemo(\n    () => decks.filter(d => !hiddenDeckIds.includes(d.id)),\n    [decks, hiddenDeckIds]\n  );\n\n  const familyGroups = useMemo((): FamilyGroup[] => {\n    const groupMap = new Map<string, Deck[]>();\n\n    visibleDecks.forEach(deck => {\n      const familyId = deck.metadata.family_id || '__other__';\n      const existing = groupMap.get(familyId) || [];\n      existing.push(deck);\n      groupMap.set(familyId, existing);\n    });\n\n    const groups: FamilyGroup[] = [];\n\n    // Add families in sort order\n    families.forEach(family => {\n      const familyDecks = groupMap.get(family.id);\n      if (familyDecks && familyDecks.length > 0) {\n        groups.push({ family, decks: familyDecks });\n        groupMap.delete(family.id);\n      }\n    });\n\n    // Add \"Other\" group for remaining decks\n    const otherDecks = groupMap.get('__other__');\n    if (otherDecks && otherDecks.length > 0) {\n      groups.push({ family: OTHER_FAMILY, decks: otherDecks });\n    }\n\n    return groups;\n  }, [visibleDecks, families]);\n\n  const SIDE_KEYS: (keyof Card)[] = ['side_a', 'side_b', 'side_c', 'side_d', 'side_e', 'side_f'];\n\n  const isSearching = searchQuery.trim().length > 0;\n\n  const searchResults = useMemo((): CardSearchResult[] => {\n    const strip = (s: string) => s.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\n    const q = strip(searchQuery.trim());\n    if (!q) return [];\n\n    const results: CardSearchResult[] = [];\n    for (const deck of visibleDecks) {\n      if (!deck.content) continue;\n      for (const card of deck.content) {\n        const nameMatch = card.name ? strip(card.name).includes(q) : false;\n        const sideMatch = SIDE_KEYS.some(key => {\n          const val = card[key];\n          return typeof val === 'string' && strip(val).includes(q);\n        });\n        if (nameMatch || sideMatch) {\n          results.push({ card, deck });\n        }\n      }\n    }\n    return results;\n  }, [searchQuery, visibleDecks]);\n\n  // When there's only one family, skip the section header\n  const hasMutipleFamilies = familyGroups.length > 1;\n\n  if (isLoading) {\n    return null; // Let PageLazyBoundary handle loading state\n  }\n\n  if (error) {\n    return (\n      <div className={styles.errorContainer}>\n        <h2>Error Loading Decks</h2>\n        <p>{error}</p>\n        <button onClick={loadDecks} className={styles.retryButton}>\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      {/* Hero Section */}\n      <header\n        className={styles.header}\n        ref={headerRef}\n      >\n            <div className={styles.iosSafeTop} aria-hidden=\"true\" />\n            <img\n              src={`${import.meta.env.BASE_URL}icons/mrquizly.png`}\n              alt=\"Mr. Quizly\"\n              className={styles.mascot}\n              decoding=\"async\"\n              loading=\"eager\"\n            />\n            <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.3 }}\n        >\n              <h1 className={styles.title}>Quizly</h1>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 1600 220\"\n                role=\"img\"\n                aria-labelledby=\"quizlyCursiveHeaderTitle\"\n                style={{\n                  width: '100%',\n                  height: 'auto',\n                  maxHeight: 120,\n                  transform: 'rotate(-6deg) skewX(-6deg)',\n                  transformOrigin: 'center center',\n                  marginTop: 8\n                }}\n                className={styles.taglineSvg}\n              >\n                <title id=\"quizlyCursiveHeaderTitle\">it's not a test! -- cursive header</title>\n                <style>{`\n                  :root{\n                    --quizly-blue:#4A90E2;\n                    --quizly-white:#FFFFFF;\n                  }\n                  text {\n                    font-family: \"Pacifico\", \"Lobster\", \"Brush Script MT\", \"Segoe Script\",\n                                 \"Snell Roundhand\", \"Dancing Script\", cursive;\n                    font-size: 94px;\n                    font-weight: 700;\n                    fill: var(--quizly-white);\n                    letter-spacing: 3px;\n                    paint-order: stroke fill;\n                    stroke: var(--quizly-white);\n                    stroke-width: 1px;\n                    dominant-baseline: middle;\n                    text-anchor: middle;\n                  }\n                  .tg-center { display: block; }\n                  .tg-right { display: none; text-anchor: end; }\n                  @media (max-width: 768px) {\n                    .tg-center { display: none; }\n                    .tg-right { display: block; }\n                    text { font-size: 172px; stroke-width: 1.6px; }\n                  }\n                `}</style>\n                <text className=\"tg-center\" x=\"50%\" y=\"120\">it's not a test!</text>\n                <text className=\"tg-right\" x=\"100%\" y=\"120\">it's not a test!</text>\n              </svg>\n        </motion.div>\n      </header>\n\n      <main className={styles.main}>\n        <section className={styles.deckSection}>\n          <div className={styles.sectionHeader}>\n            <h2 className={styles.sectionTitle}>Available Decks</h2>\n            <button\n              className={styles.manageButton}\n              onClick={() => setModalOpen(true)}\n              aria-label=\"Manage deck visibility\"\n            >\n              <SlidersIcon size={20} />\n            </button>\n          </div>\n\n          <div className={styles.searchBar}>\n            <Input\n              variant=\"outlined\"\n              fullWidth\n              placeholder=\"Search cards...\"\n              value={searchQuery}\n              onChange={e => setSearchQuery(e.target.value)}\n              startIcon={<SearchIcon size={18} />}\n              endIcon={\n                searchQuery ? (\n                  <button\n                    className={styles.clearButton}\n                    onClick={() => setSearchQuery('')}\n                    aria-label=\"Clear search\"\n                    type=\"button\"\n                  >\n                    <CloseIcon size={16} />\n                  </button>\n                ) : undefined\n              }\n              aria-label=\"Search cards across all decks\"\n            />\n          </div>\n\n          {isSearching ? (\n            <SearchResults\n              results={searchResults}\n              query={searchQuery.trim()}\n              onNavigateToDeck={handleCompactDeckSelect}\n            />\n          ) : visibleDecks.length === 0 ? (\n            <motion.div\n              className={styles.emptyState}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.5 }}\n            >\n              <p>No decks available</p>\n              <p className={styles.emptyHint}>\n                {decks.length > 0\n                  ? 'All decks are hidden. Use the manage button to show them.'\n                  : 'Import a deck to get started'}\n              </p>\n            </motion.div>\n          ) : (\n            familyGroups.map(group => {\n              const content = isMobile ? (\n                <CompactDeckGrid\n                  decks={group.decks}\n                  onSelectDeck={handleCompactDeckSelect}\n                />\n              ) : (\n                <div className={styles.deckGrid}>\n                  {group.decks.map(deck => (\n                    <EnhancedDeckCard\n                      key={deck.id}\n                      deck={deck}\n                      progress={getDeckProgress(deck.id)}\n                      onModeSelect={handleModeSelect}\n                    />\n                  ))}\n                </div>\n              );\n\n              if (!hasMutipleFamilies) {\n                return <div key={group.family.id}>{content}</div>;\n              }\n\n              return (\n                <FamilySection\n                  key={group.family.id}\n                  family={group.family}\n                  deckCount={group.decks.length}\n                >\n                  {content}\n                </FamilySection>\n              );\n            })\n          )}\n        </section>\n      </main>\n\n      <DeckVisibilityModal\n        isOpen={modalOpen}\n        onClose={() => setModalOpen(false)}\n        decks={decks}\n      />\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState, useEffect } from 'react';\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile(): boolean {\n  const [isMobile, setIsMobile] = useState(() => {\n    if (typeof window === 'undefined') return false;\n    return window.innerWidth < MOBILE_BREAKPOINT;\n  });\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  return isMobile;\n}\n"],"names":["formatLastStudied","date","diff","Date","getTime","days","Math","floor","CircularProgress","memo","value","circumference","PI","offset","viewBox","className","styles","progressSvg","children","jsx","cx","cy","r","progressBackground","strokeWidth","fill","progressFill","strokeDasharray","strokeDashoffset","strokeLinecap","jsxs","x","y","progressText","textAnchor","dy","round","displayName","DifficultyBadge","level","difficultyBadge","replace","EnhancedDeckCard","deck","progress","overall","byMode","totalCardsStudied","streakDays","masteredCards","totalCards","content","length","onModeSelect","hasTranscripts","setHasTranscripts","useState","navigate","useNavigate","showNotification","useNotificationStore","metadata","useEffect","hasTranscriptsForDeck","id","then","modes","label","icon","FlashcardsIcon","color","description","route","LearnIcon","MatchIcon","ReadIcon","enhancedDeckCard","onClick","progressRing","cardHeader","deckName","deck_name","difficulty","deck_subtitle","subtitle","stats","statItem","CardsIcon","statIcon","size","statValue","card_count","statLabel","available_levels","LevelsIcon","reading","Object","keys","dialogues","ClockIcon","lastStudied","tags","slice","map","tag","modeStrip","mode","modeButton","e","stopPropagation","message","type","duration","handleModeClick","title","modeIcon","modeLabel","CompactDeckCard","onSelect","cardCount","displayTitle","abbreviated_title","hasReadingContent","motion","div","onKeyDown","key","preventDefault","tabIndex","role","whileTap","scale","containerVariants","hidden","opacity","visible","transition","staggerChildren","itemVariants","CompactDeckGrid","decks","onSelectDeck","variants","initial","animate","AnimatePresence","layout","FamilySection","family","deckCount","style","borderLeftColor","name","OTHER_FAMILY","sortOrder","ToggleSwitch","checked","onChange","DeckVisibilityModal","isOpen","onClose","hiddenDeckIds","families","toggleDeckVisibility","hideAllInFamily","showAllInFamily","useDeckVisibilityStore","familyGroups","useMemo","groupMap","Map","forEach","familyId","family_id","existing","get","push","set","groups","familyDecks","delete","otherDecks","handleToggleAll","useCallback","familyDeckIds","allVisible","Modal","group","d","visibleCount","filter","includes","isVisible","SIDE_KEYS","DEFAULT_LABELS","SearchResultCard","card","deckId","sideLabels","availableSides","onNavigateToDeck","i","SearchResults","results","query","side_labels","available_sides","idx","SlidersIcon","width","height","xmlns","x1","y1","x2","y2","stroke","Home","isLoading","error","loadDecks","selectDeck","useDeckStore","getDeckProgress","useProgressStore","loadFamilies","headerRef","useRef","isMobile","setIsMobile","window","innerWidth","checkMobile","addEventListener","removeEventListener","useIsMobile","modalOpen","setModalOpen","searchQuery","setSearchQuery","node","current","img","querySelector","updateGradientStart","rect","getBoundingClientRect","headerRect","start","max","right","left","setProperty","getComputedStyle","document","documentElement","getPropertyValue","onResize","setHeaderStartFromImage","deferredTask","canvas","createElement","ctx","getContext","drawImage","data","getImageData","toHex","v","toString","padStart","hex","requestIdleCallback","setTimeout","complete","once","handleModeSelect","_mode","handleCompactDeckSelect","visibleDecks","isSearching","trim","searchResults","strip","s","normalize","toLowerCase","q","nameMatch","sideMatch","some","val","hasMutipleFamilies","ref","src","alt","decoding","loading","maxHeight","transform","transformOrigin","marginTop","Input","variant","fullWidth","placeholder","target","startIcon","SearchIcon","endIcon","CloseIcon"],"mappings":"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"}